<!DOCTYPE html>
<html>
<head>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"> 
<meta name="apple-mobile-web-app-status-bar-style" content="white">

<meta name="apple-mobile-web-app-title" content="Vr Webcam">
	<style>
		video {
  width: 50vw;
  margin:0;padding:0;
  height: 100vh;
  display:inline-block;object-fit: cover;
}
body,html{
	background: black;
  margin:0;
}
		h1 {
position:fixed;
			display:none;
font-family:futura;
top: 50%;
			color:white;
			text-shadow: 0px 0px 8px #000000;

}
</style>
</head>
  
<body>
	
	<h1 id="ov1" style="left:50%;">Overlay</h1>
<h1 id="ov2" style="right:25%;">Overlay</h1>

<div id="container">
    <video id="videoElement1" style="    transform: rotateY(180deg);
    -webkit-transform:rotateY(180deg); /* Safari and Chrome */
    -moz-transform:rotateY(180deg); / ">
    </video>
     <video style="float:right; /* transform: rotateY(180deg);
    -webkit-transform:rotateY(180deg);  Safari and Chrome 
    -moz-transform:rotateY(180deg); */ " id="videoElement2">
    </video>
</div>

<script>
	document.querySelector('#ov1').style.left=document.body.offsetWidth-document.querySelector('#ov1').offsetWidth-document.body.offsetWidth/4+"px";
	document.querySelector('#ov2').style.right=document.body.offsetWidth-document.querySelector('#ov2').offsetWidth-document.body.offsetWidth/4+"px";
let video1 = document.querySelector('#videoElement1');
let video2 = document.querySelector('#videoElement2');
  
navigator.mediaDevices.getUserMedia({
	video: {
		facingMode: 'environment',
		width: {min: 360, ideal: 1280, max: 1920},
		height: {min: 240, ideal: 720, max: 1080}
	}
}).then((stream) => {
	if (video1.srcObject !== undefined) {
		video1.srcObject = stream;
	} else if (video.mozSrcObject !== undefined) {
		video1.mozSrcObject = stream;
	} else if (window.URL.createObjectURL) {
		video1.src = window.URL.createObjectURL(stream);
	} else if (window.webkitURL) {
		video1.src = window.webkitURL.createObjectURL(stream);
	} else {
		video1.src = stream;
	}
	video1.playsInline = true;
	video1.play();
  	if (video2.srcObject !== undefined) {
		video2.srcObject = stream;
	} else if (video2.mozSrcObject !== undefined) {
		video2.mozSrcObject = stream;
	} else if (window.URL.createObjectURL) {
		video2.src = window.URL.createObjectURL(stream);
	} else if (window.webkitURL) {
		video2.src = window.webkitURL.createObjectURL(stream);
	} else {
		video2.src = stream;
	}
	video2.playsInline = true;
	video2.play();
}).catch((error) => {
	console.log(error);
});

</script>
</body>
</html>
